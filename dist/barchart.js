// Created by Riyazur Razak on 2021.
// For contact riyazurrazak.com/contact
window.onload=(()=>{document.createElement("barchart");const t=document.getElementsByTagName("barchart");for(let e=0;e<t.length;e++)chartTag(t[e])});const chartTag=t=>{const e=t.getElementsByTagName("data"),a=document.createElement("canvas");let l=[];for(let t=0;t<e.length;t++)l.push({value:parseInt(e[t].attributes.value?.nodeValue),color:e[t].attributes.color.nodeValue});t.innerHTML="",t.append(a);const o=parseInt(t.attributes.height?.nodeValue),n=t.attributes.backgroundColor?.nodeValue,r=parseInt(t.attributes.width?.nodeValue),c=l.length,u=r?r+10*c+30:40*c-10,d=o?o+80:180,h=r?Math.round(r/c):20;a.width=u,a.height=d;let i=20;const s=a.getContext("2d");n&&(s.fillStyle=n,s.fillRect(0,0,u,d)),l.map(t=>{s.fillStyle=t.color,s.fillText(t.value.toString(),i,d-30,20),s.fillRect(i,d-Math.floor(t.value*(d-80)/100)-50,h,Math.floor(t.value*(d-80)/100)),i+=h+10})};